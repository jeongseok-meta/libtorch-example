[project]
authors = ["Jeongseok Lee <jeongseok@meta.com>"]
channels = ["conda-forge"]
name = "libtorch-example"
platforms = ["linux-64", "osx-64", "osx-arm64"]
version = "0.1.0"

[dependencies]
libtorch = ">=2.5.1,<3"

[tasks]
config ={ cmd = "cmake -S . -B build" }

#==============
# Feature: CPU
#==============

[feature.cpu]
platforms = ["win-64", "linux-64", "osx-64", "osx-arm64"]

#==============
# Feature: GPU
#==============

[feature.gpu]
platforms = ["linux-64"]
system-requirements = { cuda = "12" }
dependencies = { python = "3.12.*", pytorch-gpu = ">=2.5.1,<3", cuda-toolkit = ">=12.6.3,<13" }

#==============
# Environments
#==============

[environments]
gpu = ["gpu"]
cpu = ["cpu"]
default = ["cpu"]
